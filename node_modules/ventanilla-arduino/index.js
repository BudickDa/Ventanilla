//get Johnny Five
var five=require('johnny-five');

var actors = require('./actors');
var sensors = require('./sensors');

exports.initBoard = function(block,cb){
  if(blocks[block.uid]===undefined){
    try{
      blocks[block.uid] = new five.Board({port:block.hardware.port});
      console.log(blocks[block.uid]);
      blocks[block.uid].sensors = [];
      blocks[block.uid].block = block;
      blocks[block.uid].value = block.hardware.port;
      return cb(block.uid);
    }catch(e){
      console.log("Error in initBoard in ventanilla-arduino/index: " + e);
    }
  }
}

exports.registerSensor = function(block){
  var inputs =[];
  for(i in block.inputs){
    if(block.inputs[i].type==="input"){
      inputs.push(block.inputs[i].uid);
    }
  }
  return sensors.registerSensor(block,inputs);
}
