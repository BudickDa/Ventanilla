exports.Add = function(block){
  console.log("Will create Logic  - initilizing");
  try{
    blocks[block.uid] = block;
    blocks[block.uid].value = [];
    console.log("Will create Logic Add  - sucessfull");
    return add(block);
  }catch(e){
    console.log("Will create Logic Add - failed: " + e);
  }
};

function add(block){
  try{
    var result = 0;
    for(i in block.input){
      if(blocks[block.input[i].uid]!==undefined){
        result += blocks[block.input[i].uid].value[block.input[i].pid]
      }
    }
    try{
      if(blocks[block.uid]!==undefined){
        blocks[block.uid].value[block.pins[2].pid] = result;
        app.io.broadcast('pid'+block.pins[2].pid,result);
      }
      else{
        console.log(block.uid);
      }
    }catch(e){
      console.log("Error at Add in ventanilla/logicTypes.js while broadcasting: " + e);
    }
  }
  catch(e){
    console.log("Error at Add in ventanilla/logicTypes.js: " + e);
  }
  finally{
    try{
      setTimeout(function(){
        return add(block);
      },1000);
    }catch(e){
      console.log("Error at Add in ventanilla/logicTypes.js Add has stopped working: " + e);
    }
  }
};
